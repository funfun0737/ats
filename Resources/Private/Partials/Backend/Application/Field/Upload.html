{namespace ats=PAGEmachine\Ats\ViewHelpers}
<tr class="form-element">
	<td>
		<label>
		  <f:translate key="{translationKey}" />
		</label>
	</td>
	<td>
    <div class="panel panel-default">
    	<div class="panel-heading">
				<label><f:translate key="tx_ats.upload.existing_files">Existing Files</f:translate></label>
			</div>
			<ul class="list-group">
			<f:for each="{application.files}" as="file" iteration="i">
				<li class="list-group-item">
					<a href="{file.backendUrl}" target="_blank">{file.originalResource.name} </a>
					<ats:form.upload property="files.{i.index}" style="display: none;">
					</ats:form.upload>
					<f:link.action action="removeUpload" arguments="{application: application, file : file}" class="btn btn-xs btn-danger pull-right"><span class="glyphicon glyphicon-trash"></span> <f:translate key="tx_ats.upload.remove"></f:translate></f:link.action>

				</li>
			</f:for>
			</ul>
		</div>

    <f:render partial="Application/Field/ValidationError" arguments="{fieldName : 'files.999'}" />

    <div class="panel panel-default">
    	<div class="panel-heading">
    		<label><f:translate key="tx_ats.upload.new">Upload new file</f:translate></label>
    			<f:form.button type="submit" name="action" value="saveUpload" class="btn btn-success btn-xs pull-right" id="tx-ats-fileupload-button" style="display: none;">
    				<f:translate key="tx_ats.upload.save">save</f:translate>
    			</f:form.button>
    	</div>
    	<div class="panel-body">
    				<ats:form.upload property="files.999" id="tx-ats-fileupload" />
    	</div>
    </div>
	</td>
</tr>
